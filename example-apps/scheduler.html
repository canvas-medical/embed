<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Scheduler</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
      body {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div id="scheduler-root"></div>
    <script
      src="../widgets/packages/scheduler/dist/scheduler.js"
      type="text/javascript"
    ></script>
    <script type="text/javascript">
      const params = new URLSearchParams(window.location.search)
      const providers = [
        { name: params.get("provider1Name"), id: params.get("provider1Id") },
      ]

      const provider2Name = params.get("provider2Name")
      const provider2Id = params.get("provider2Id")
      const provider3Name = params.get("provider3Name")
      const provider3Id = params.get("provider3Id")
      const provider4Name = params.get("provider3Name")
      const provider4Id = params.get("provider3Id")

      if (provider2Name && provider2Id) {
        providers.push({ name: provider2Name, id: provider2Id })
      }
      if (provider3Name && provider3Id) {
        providers.push({ name: provider3Name, id: provider3Id })
      }
      if (provider4Name && provider4Id) {
        providers.push({ name: provider4Name, id: provider4Id })
      }

      Scheduler.init({
        api: params.get("api"),
        appointmentTypeCode: params.get("appointmentTypeCode"),
        bailoutURL: params.get("bailoutURL"),
        duration: params.get("duration"),
        locationId: params.get("locationId"),
        patientId: params.get("patientId"),
        patientKey: params.get("patientKey"),
        providers,
        reason: params.get("reason"),
        returnURL: params.get("returnURL"),
        rootId: params.get("rootId"),
      })
    </script>
  </body>
</html>
